@model SAT.HR.Models.EmployeeViewModel
@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_LayoutPartial.cshtml";
}

@using (Ajax.BeginForm("Login", "Home", new AjaxOptions { HttpMethod = "POST", OnSuccess = "OnSuccess", InsertionMode = InsertionMode.Replace }, new { id = "authenticationForm" }))
{
    <div class="wrapper wrapper-full-page">
        <div class="page-header login-page header-filter" filter-color="black" style="background-image: url('@Url.Content("~/Content/assets/img/login.jpg")'); background-size: cover; background-position: top center;">
            <!--   you can change the color of the filter page using: data-color="blue | purple | green | orange | red | rose " -->
            <div class="container">
                <div class="col-lg-4 col-md-6 col-sm-6 ml-auto mr-auto">
                    <form class="form" method="" action="">
                        <div class="card card-login card-hidden">
                            <div class="card-header card-header-primary text-center">
                                <h4 class="card-title">Login</h4>
                            </div>

                            <div class="card-body ">
                                <span class="bmd-form-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="material-icons">face</i>
                                            </span>
                                        </div>
                                        @Html.TextBoxFor(m => m.UserName, new { @class = "form-control", required = "true", placeholder = "User Name..." })
                                    </div>
                                </span>
                                <span class="bmd-form-group">
                                    <div class="input-group">
                                        <div class="input-group-prepend">
                                            <span class="input-group-text">
                                                <i class="material-icons">lock_outline</i>
                                            </span>
                                        </div>
                                        @Html.PasswordFor(m => m.Password, new { @class = "form-control", required = "true", placeholder = "Password..." })
                                    </div>
                                </span>
                            </div>
                            <div class="card-footer justify-content-center">
                                <a id="submit-auth" class="btn btn-link btn-lg">Login</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <footer class="footer">
                <div class="container">
                    <nav class="float-left"></nav>
                    <div class="copyright float-right">
                        &copy;
                        <script>
                            document.write(new Date().getFullYear())
                        </script>, made with <i class="material-icons">favorite</i> by
                        <a href="#" target="_blank">Creative Human</a> for a better web.
                    </div>
                </div>
            </footer>
        </div>
    </div>
}

@section Scripts
{
    
    <script src="~/Scripts/jquery-1.11.2.min.js"></script>
    <script src="~/Scripts/jquery.validate.unobtrusive.min.js"></script>
    <script>

        $(document).ready(function () {

            demo.checkFullPageBackgroundImage(); setTimeout(function () {
                $('.card').removeClass('card-hidden');  // after 1000 ms we add the class animated to the login/register card
            }, 700);

            $("#submit-auth").click(function () {
                $("#authenticationForm").submit();
            });

        });

        function OnSuccess(res) {
            alert("OnSuccess");
            if (res.MessageCode != null) {
                swal({
                    title: '',
                    text: '',
                    type: "warning",
                    showCancelButton: false,
                    confirmButtonClass: 'btn btn-danger btn-w-m btn-lg',
                    confirmButtonText: res.MessageText,
                    allowOutsideClick: false,
                    buttonsStyling: false
                }).then(function () {
                }).catch(swal.noop);
            }
            else {
                var url = '@Url.Action("Dashboard", "Home")';
                window.location.href = url;
            }
        }

        function OnFailure(res) {

        }

    </script>
}